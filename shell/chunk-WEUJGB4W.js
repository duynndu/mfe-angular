var $=Object.defineProperty,P=Object.defineProperties;var v=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var E=(e,t,o)=>t in e?$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,u=(e,t)=>{for(var o in t||={})O.call(t,o)&&E(e,o,t[o]);if(w)for(var o of w(t))S.call(t,o)&&E(e,o,t[o]);return e},d=(e,t)=>P(e,v(t));var m=(e,t,o)=>new Promise((n,r)=>{var i=s=>{try{c(o.next(s))}catch(f){r(f)}},a=s=>{try{c(o.throw(s))}catch(f){r(f)}},c=s=>s.done?n(s.value):Promise.resolve(s.value).then(i,a);c((o=o.apply(e,t)).next())});function N(e,t){return{imports:u(u({},e.imports),t.imports),scopes:u(u({},e.scopes),t.scopes)}}var R="__NATIVE_FEDERATION__",I=globalThis;I[R]??={externals:new Map,remoteNamesToRemote:new Map,baseUrlToRemoteNames:new Map};var g=I[R],b=g.externals;function M(e){return`${e.packageName}@${e.version}`}function U(e){let t=M(e);return b.get(t)}function k(e,t){let o=M(e);b.set(o,t)}function h(e){let t=e.split("/");return t.pop(),t.join("/")}function p(e,t){for(;e.endsWith("/");)e=e.substring(0,e.length-1);return t.startsWith("./")&&(t=t.substring(2,t.length)),`${e}/${t}`}var T=g.remoteNamesToRemote,y=g.baseUrlToRemoteNames;function A(e,t){T.set(e,t),y.set(t.baseUrl,e)}function K(e){return y.get(e)}function V(e){return y.has(e)}function W(e){return T.get(e)}function F(e){document.head.appendChild(Object.assign(document.createElement("script"),{type:"importmap-shim",innerHTML:JSON.stringify(e)}))}function Y(){return m(this,arguments,function*(e={},t){let o=t?.cacheTag?`?t=${t.cacheTag}`:"",n=typeof e=="string"?yield C(e+o):e,r="./remoteEntry.json"+o,i=yield _(r),a=yield H(i),c=yield q(n,u({throwIfRemoteNotFound:!1},t)),s=N(a,c);return F(s),s})}function C(e){return m(this,null,function*(){return yield fetch(e).then(t=>t.json())})}function q(o){return m(this,arguments,function*(e,t={throwIfRemoteNotFound:!1}){let n=Object.keys(e).map(a=>m(null,null,function*(){try{let c=e[a];if(t.cacheTag){let s=e[a].includes("?")?"&":"?";c+=`${s}t=${t.cacheTag}`}return yield j(c,a)}catch{let s=`Error loading remote entry for ${a} from file ${e[a]}`;if(t.throwIfRemoteNotFound)throw new Error(s);return console.error(s),null}}));return(yield Promise.all(n)).reduce((a,c)=>c?N(a,c):a,{imports:{},scopes:{}})})}function j(e,t){return m(this,null,function*(){let o=h(e),n=yield _(e);t||(t=n.name);let r=z(n,t,o);return A(t,d(u({},n),{baseUrl:o})),r})}function z(e,t,o){let n=B(e,t,o),r=D(e,o);return{imports:n,scopes:r}}function _(e){return m(this,null,function*(){return yield fetch(e).then(o=>o.json())})}function D(e,t){let o={},n={};for(let r of e.shared){let i=U(r)??p(t,r.outFileName);k(r,i),n[r.packageName]=i}return o[t+"/"]=n,o}function B(e,t,o){let n={};for(let r of e.exposes){let i=p(t,r.key),a=p(o,r.outFileName);n[i]=a}return n}function H(e,t="./"){return m(this,null,function*(){let o=e.shared.reduce((n,r)=>d(u({},n),{[r.packageName]:t+r.outFileName}),{});for(let n of e.shared)k(n,t+n.outFileName);return{imports:o,scopes:{}}})}function Z(e,t){return m(this,null,function*(){let o=Q(e,t);yield G(o);let n=L(o),r=W(n),i=o.fallback,a=r?"":"unknown remote "+n;if(!r&&!i)throw new Error(a);if(!r)return x(a),Promise.resolve(i);let c=r.exposes.find(l=>l.key===o.exposedModule),s=c?"":`Unknown exposed module ${o.exposedModule} in remote ${n}`;if(!c&&!i)throw new Error(s);if(!c)return x(s),Promise.resolve(i);let f=p(r.baseUrl,c.outFileName);try{return J(f)}catch(l){if(i)return console.error("error loading remote module",l),i;throw l}})}function J(e){return typeof importShim<"u"?importShim(e):import(e)}function L(e){let t;if(e.remoteName)t=e.remoteName;else if(e.remoteEntry){let o=h(e.remoteEntry);t=K(o)}else throw new Error("unexpcted arguments: Please pass remoteName or remoteEntry");if(!t)throw new Error("unknown remoteName "+t);return t}function G(e){return m(this,null,function*(){if(e.remoteEntry&&!V(h(e.remoteEntry))){let t=yield j(e.remoteEntry);F(t)}})}function Q(e,t){let o;if(typeof e=="string"&&t)o={remoteName:e,exposedModule:t};else if(typeof e=="object"&&!t)o=e;else throw new Error("unexpected arguments: please pass options or a remoteName/exposedModule-pair");return o}function x(e){typeof window<"u"&&console.error(e)}var re={production:!1,customRemotes:{templateEditor:"/mfe-angular/template-editor/assets/remoteEntry.js"},federationRemotes:{firstMf:"/mfe-angular/first-mf/remoteEntry.json"}};export{m as a,Y as b,Z as c,re as d};
